<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Registro de Pedido</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
</head>
<body>

<div class="container">
  <div class="row">
    <div class="col-md-6 mx-auto">
      <div th:if="${param.exito}">
        <div class="alert alert-info">
          Pedido registrado exitosamente
        </div>
      </div>
      <br>
      <h1>Registrar nuevo pedido</h1>
      <br>
      <form th:action="@{/home/registroNuevoPedido}" method="post" th:object="${pedido}">

        <div class="mb-3">
          <label for="fechaPedido" class="form-label">Fecha:</label>
          <input id="fechaPedido" type="date" class="form-control" th:field="*{fecha_Pedido}" required>
        </div>

        <div class="mb-3">
          <label for="producto" class="form-label">Seleccionar Producto:</label>
          <select id="producto" class="form-control" th:field="*{producto.id_Producto}" required>
            <option value="" disabled selected>Selecciona un Producto</option>

            <option th:each="producto : ${productos}" th:value="${producto.id_Producto}" th:text="${producto.nombre_Producto}"></option>
          </select>
        </div>

        <div class="mb-3">
          <label for="cantidadPedido" class="form-label">Cantidad producto(por contenedor):</label>
          <input id="cantidadPedido" type="number" class="form-control" th:field="*{cantidad_Pedido}" required>
        </div>

        <div class="mb-3">
          <label for="vendedor" class="form-label">Seleccionar Vendedor:</label>
          <select id="vendedor" class="form-control" th:field="*{vendedor.id_Vendedor}" required>
            <option value="" disabled selected>Selecciona un Vendedor</option>

            <option th:each="vendedor : ${vendedores}" th:value="${vendedor.id_Vendedor}" th:text="${vendedor.nombre_Vendedor}"></option>
          </select>
        </div>


        <div class="mb-3">
          <label for="cliente" class="form-label">Seleccionar Cliente:</label>
          <select id="cliente" class="form-control" th:field="*{cliente.id_Cliente}" required>
            <option value="" disabled selected>Selecciona un Cliente</option>

            <option th:each="cliente : ${clientes}" th:value="${cliente.id_Cliente}" th:text="${cliente.nombre_Cliente}"></option>
          </select>
        </div>

        <!-- Campos invisibles para enviar null si no se seleccionan -->
        <input type="hidden" th:field="*{montoTotal_Pedido}" value="null">
        <input type="hidden" th:field="*{supervisorDeVenta}" value="null">
        <input type="hidden" th:field="*{fechaAprobacion_Pedido}" value="null">
        <input type="hidden" th:field="*{tipoVariedad}" value="null">
        <input type="hidden" th:field="*{planta}" value="null">

        <div class="mb-3">
          <button type="submit" class="btn btn-success">Registrar Producto</button>
        </div>
      </form>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</body>
</html>